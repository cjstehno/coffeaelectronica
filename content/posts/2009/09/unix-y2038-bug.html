
<html><head>
<title>Unix y2038 Bug</title>
<meta name="grackle.layout" content="post" />
<meta name="grackle.date-published" content="2009-09-19T18:59:00.000-05:00" />
</head><body>Apparently there are still some short-sighted developer date-based issues out there, one of which is the <a href="http://en.wikipedia.org/wiki/Year_2038_problem">Year 2038 Problem</a>, which is a unix-based problem with how the milliseconds since 1970 value is stored... it's a 32-bit value which will wrap around into negative numbers in 2038.<br /><a name='more'></a> I ran a quick sanity check in Linux:  <br /><br /><pre class="brush:java">Date expiration = new Date(Long.MAX_VALUE);</pre><br />and found that a Mac and Linux running Sun's JVM seems to be fine:  <br /><br /><pre>Sun Aug 17 01:12:55 CST 292278994</pre><br />while GCJ on Linux produced:  <br /><br /><pre class="brush:text">Exception in thread "main" java.lang.IllegalArgumentException: month out of range:-19461555<br />at gnu.java.util.ZoneInfo.getOffset(int, int, int, int, int, int) (/usr/lib/libgcj.so.5.0.0)<br />at java.util.GregorianCalendar.computeFields() (/usr/lib/libgcj.so.5.0.0)<br />at java.util.Calendar.setTimeInMillis(long) (/usr/lib/libgcj.so.5.0.0)<br />at java.util.Date.toString() (/usr/lib/libgcj.so.5.0.0)<br />at java.io.PrintStream.println(java.lang.Object) (/usr/lib/libgcj.so.5.0.0)<br />at Main.main(java.lang.String[]) (Unknown Source)<br /></pre><br />Ouch!  This is kind of a subtle issue since your JVM may be giving you the correct value; however, your database which may be running on Linux might give you the wrong value from a time-based operation (or an error).  This is one to keep an eye one.</body></html>
