<html>
<head>
    <title>Converting Numbers to Ranges: Groovy</title>
    <meta name="grackle.layout" content="post"/>
    <meta name="grackle.date-published" content="2010-10-09T20:24:00.000-05:00"/>
</head>
<body>A while back, I worked out a coding exercize (see <a
        href="http://www.coffeaelectronica.com/2009/11/converting-numbers-to-ranges-java.html">Converting Numbers to
    Ranges: Java</a>) where you convert a set of string input numbers and convert them to a more condensed range format,
such as <br/><br/>
<pre class="brush:text">1 2 3 6 8 10 11 12 15 --becomes--&gt; 1-3, 6, 8, 10-12, 15.</pre>
<br/>I thought about doing a version of this with Groovy at the time, but it didn't seem like it would be all that
different from that Java version. Well, having been working with Groovy a lot more lately, I decided to give it a whirl
and here is what I came up with:<br/><a name='more'></a> <br/>
<pre class="brush:groovy">def rangeize( items ){<br/>    def hold, str = ''<br/>    <br/>    items.eachWithIndex { it,i-&gt;<br/>        if( (it as int)+1 == (items[i+1] as int) ){<br/>            if( !hold ) hold = it<br/>        } else {<br/>            str += hold ? "$hold-${it}, " : "${it}, "<br/>            hold = null<br/>        }<br/>    }<br/>    <br/>    str[ 0..(str.length()-3) ] + '.' <br/>}<br/></pre>
<br/>The problem states that the input will be in order and have no duplicate entries, so I don't need to account for
those. Other than some slightly simplified syntax, it's not all that much different from the Java version, thought it's
a bit more condensed. I kept the string to int conversions inline on this version as I am still up in the air about how
much overhead that would really add. You could just as easily convert the string array before doing the grouping. Always
fun to practice.
</body>
</html>
