<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Two, If By Comparison</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Christopher J. Stehno">
    <meta name="keywords" content="java,groovy,blog">
    <meta name="generator" content="JBake">

    <!-- Le styles -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/asciidoctor.css" rel="stylesheet">
    <link href="/css/base.css" rel="stylesheet">
    <link href="/css/prettify.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="/js/html5shiv.min.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <link rel="shortcut icon" href="/favicon.ico">
  </head>
  <body onload="prettyPrint()">
    <div id="wrap">
   
	
		<!-- Fixed navbar -->
    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">CoffeaElectronica.com</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="/index.html">Home</a></li>
            <li><a href="/about.html">About</a></li>
            <li><a href="/archive.html">Archive</a></li>
            
             <li role="presentation" class="dropdown">
	      <a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-expanded="false">
		Tags <span class="caret"></span>
	      </a>
	      <ul class="dropdown-menu" role="menu">
		
		  <li><a href="/tags/ant.html">ant</a></li>
		
		  <li><a href="/tags/blog.html">blog</a></li>
		
		  <li><a href="/tags/gradle.html">gradle</a></li>
		
		  <li><a href="/tags/groovy.html">groovy</a></li>
		
		  <li><a href="/tags/java.html">java</a></li>
		
		  <li><a href="/tags/javascript.html">javascript</a></li>
		
		  <li><a href="/tags/maven.html">maven</a></li>
		
		  <li><a href="/tags/python.html">python</a></li>
		
		  <li><a href="/tags/spring.html">spring</a></li>
		
		  <li><a href="/tags/testing.html">testing</a></li>
		
		
	      </ul>
	    </li>
            
            <li><a href="/feed.xml">Subscribe</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>
    <div class="container">
    

	
	<div class="page-header">
		<h1>Two, If By Comparison</h1>
	</div>

	<p><em>14 October 2004</em> ~ <a href='/tags/blog.html'>blog</a>, <a href='/tags/java.html'>java</a></p>

	<p><p>There are two ways to compare objects, directly if they implement the <code>java.lang.Comparable</code> interface, and<br/>indirectly using an implementation of the <code>java.util.Comparator</code> interface.</p><h2>java.lang.Comparable</h2><p>The <code>Comparable</code> interface defines only a single method signature, the <code>compareTo()</code><br/>method that takes as a parameter the object that the implementing object is being compared to. It returns a negative<br/>integer, zero, or a positive integer when the implementing object is less than, equal to, or greater than the specified<br/>object respectively. The Comparable interface is best used when your object has a logical point of comparison, such as<br/>an order number, date stamp, or unique name and that point of comparison is fixed, meaning that the comparison is always<br/>performed on the same comparison point (e.g. always compared by the date stamp). This also assumes that you are the<br/>developer of the object or that you are able to extend it to allow for a <code>Comparable</code> implementation (if<br/> neither of these is the case, you should use the <code>Comparator</code> interface instead - see below). First you<br/> need a class for your object.</p>
<pre><code class="java">public class Person {
    private String id, firstName, lastName;
    private int age;

    public String getId(){ return(id); }

    public String getFirstName(){ return(firstName); }

    public String getLastName(){ return(lastName); }

    public int getAge(){ return(age); }

    public void setId(String id){ this.id = id; }

    public void setFirstName(String firstName){ this.firstName = firstName; }

    public void setLastName(String lastName){ this.lastName = lastName; }

    public void setAge(int age){ this.age = age; }
}
</code></pre><p>Now, say you have a list of people (Person objects) and that you want to display them ordered by their last names.<br/>You can make the Person class implement Comparable and perform the comparison based on the <code>lastName</code> property.<br/>This comparison is very easy due to the fact that Strings implement Comparable themselves, as do many standard data<br/>object classes (Numbers, Dates, etc.). The comparable Person class is shown below:</p>
<pre><code class="java">public class Person implements Comparable {
    private String id, firstName, lastName;
    private int age;

    // ... getters/setters not shown...

    public int compareTo(Object obj){
        // cast the obj as a Person -- we are only comparing people
        Person pObj = (Person)obj;

    // compare the last names using their compareTo methods
        return( lastName.compareTo(pObj.getLastName()) );
    }
}
</code></pre><p>Then you can run your list of Person objects through a <code>Collections.sort()</code> method and you will have a list<br/>of people ordered by their last names. But what if, when you display your list of people, the user wants the ability to<br/>sort the list by the first name or the age? You could add a new property to your object called <code>compareBy</code> that<br/>takes a parameter used to identify which property of the object will be used in the comparison. Then in your<br/><code>compareTo()</code> method you will need to base your comparison on the property that <code>compareBy</code> is<br/>pointing to. This is not a very clean approach. It would be better to use a <code>java.util.Comparator</code><br/>implementation.</p><h2>java.util.Comparator</h2><p>The Comparator interface defines two method signatures for implementation,<br/><code>compare()</code> that takes as parameters the two objects to be compared and <code>equals()</code> which takes an object<br/>to be compared to the Comparator. The return value of the <code>compare()</code> method is basically the same as that for<br/>the <code>compareTo()</code> method of the Comparable interface. The main difference between the Comparator and a Comparable<br/>object is that Comparators perform the comparison external to the objects being compared and therefore can be reusable<br/>over many different object types. Let's start out with our clean Person class again:</p>
<pre><code class="java">public class Person {
    private String id, firstName, lastName;
    private int age;

    public String getId(){ return(id); }

    public String getFirstName(){ return(firstName); }

    public String getLastName(){ return(lastName); }

    public int getAge(){ return(age); }

    public void setId(String id){ this.id = id; }

    public void setFirstName(String firstName){ this.firstName = firstName; }

    public void setLastName(String lastName){ this.lastName = lastName; }

    public void setAge(int age){ this.age = age; }
}
</code></pre><p>and then define a comparator to do the work of the comparable Person we created (so we don't lose any<br/>functionality).</p>
<pre><code class="java">public class LastNameComparator implements Comparator {
    public boolean equals(Object obj){
        // we&#39;re just going to say that any LastNameComparators are equal
        return(obj instanceof LastNameComparator);
    }

    public int compare(Object obj1, Object obj2){
        // cast both objects are Person
        Person p1 = (Person)obj1;
        Person p2 = (Person)obj2;

        // compare their lastNames
        return( p1.getLastName().compareTo(p2.getLastName()) );
    }
}
</code></pre><p>That's all it takes. You can run your List of Person objects through the version of <code>Collections.sort()</code><br/>that accepts a List and a Comparator to sort your list by last name. You have gained something by doing this; you can<br/>now change the sort criteria on the fly. Let's create a Comparator to compare by age.</p>
<pre><code class="java">public class AgeComparator implements Comparator {
    public boolean equals(Object obj){
        // we&#39;re just going to say that any AgeComparators are equal
        return(obj instanceof AgeComparator);
    }

    public int compare(Object obj1, Object obj2){
        // cast both objects are Person
        Person p1 = (Person)obj1;
        Person p2 = (Person)obj2;

        // compare their ages
        int result = 0; // defaults to equal
        if(p1.getAge() &gt; p2.getAge()){
            result = 1;
        } else if(p1.getAge() &lt; p2.getAge()){
            result = -1;
        }

        return(result);
    }
}
</code></pre><p>Now you can use that instead of the <code>LastNameComparator</code> to order the Person objects by their ages. The<br/>Comparator at first seems like more coding, but if you design your Comparators well, you will be able to reuse them in<br/>the future, especially if you throw in some reflection. The <a href="http://commons.apache.org/collections">Jakarta Commons Collections API</a><br/>has a set of useful Comparators, though I think one of the most useful Comparators is found in the<br/><a href="http://commons.apache.org/beanutils">Jakarta Commons Bean Utils API</a>, called the <code>BeanComparator</code>. The <code>BeanComparator</code><br/>uses reflection compare two objects based on the value of a specified property. Using the <code>BeanComparator</code> to perform<br/>our comparisons would be much simpler:</p>
<pre><code class="java">Collections.sort(people,new BeanComparator(&quot;lastName&quot;));
// - or -
Collections.sort(people,new BeanComparator(&quot;age&quot;));
</code></pre><p>Now how is that for simple and straight forward? So that is a basic introduction to using the Comparable and<br/>Comparator interfaces. In general, it is better to use Comparators so that your comparison is not so tightly tied to<br/>your implementations.</p></p>

	<hr />
	
		</div>
		<div id="push"></div>
    </div>
    
    <div id="footer">
      <div class="container">
        <p class="muted credit">&copy; 2015 <a href="https://plus.google.com/+ChristopherStehno">Christopher J. Stehno</a> | Mixed with <a href="http://getbootstrap.com/">Bootstrap v3.1.1</a> | Baked with <a href="http://jbake.org">JBake v2.3.2</a></p>
      </div>
    </div>
    
    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../../js/jquery-1.11.1.min.js"></script>
    <script src="../../js/bootstrap.min.js"></script>
    <script src="../../js/prettify.js"></script>
    
  </body>
</html>