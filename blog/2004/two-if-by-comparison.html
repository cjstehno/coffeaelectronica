<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>CoffeaElectronica.com</title>

    <meta name="description" content="A technical blog.">
    <meta name="author" content="Christopher J. Stehno">
    <meta name="keywords" content="java,groovy,blog">
    <meta name="generator" content="JBake">

    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/asciidoctor.css" rel="stylesheet">
    <link href="/css/base.css" rel="stylesheet">
    <link href="/css/prettify.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <link rel="shortcut icon" href="/favicon.ico">
</head>

<body onload="prettyPrint()">

<div class="container-fluid">

    <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12">
            <img src="/images/coffee-banner.jpg" class="img-responsive" />
        </div>
    </div>

    <nav class="navbar navbar-inverse" style="margin-bottom: 2px;">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/index.html">&nbsp;CoffeaElectronica</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li><a href="/archive.html" title="Archives"><span class="glyphicon glyphicon-calendar"></span></a></li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" title="Tags"><span class="glyphicon glyphicon-tags"></span> <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            
                                    <li><a href="/tags/ant.html">ant</a></li>
                            
                                    <li><a href="/tags/blog.html">blog</a></li>
                            
                                    <li><a href="/tags/gradle.html">gradle</a></li>
                            
                                    <li><a href="/tags/groovy.html">groovy</a></li>
                            
                                    <li><a href="/tags/java.html">java</a></li>
                            
                                    <li><a href="/tags/javascript.html">javascript</a></li>
                            
                                    <li><a href="/tags/maven.html">maven</a></li>
                            
                                    <li><a href="/tags/python.html">python</a></li>
                            
                                    <li><a href="/tags/spring.html">spring</a></li>
                            
                                    <li><a href="/tags/testing.html">testing</a></li>
                            
                                    <li><a href="/tags/vanilla.html">vanilla</a></li>
                            
                        </ul>
                    </li>
                </ul>

                <ul class="nav navbar-nav navbar-right">
                    <li><a href="http://stehno.com" title="Web Site" target="_blank"><span class="glyphicon glyphicon-user"></span></a></li>
                    <li><a href="http://github.com/cjstehno" title="Projects" target="_blank"><span class="glyphicon glyphicon-wrench"></span></a></li>
                    <li><a href="/feed.xml" title="Feed"><span class="glyphicon glyphicon-bullhorn"></span></a></li>
                </ul>
            </div><!-- /.navbar-collapse -->
        </div><!-- /.container-fluid -->
    </nav>

	
	<h1>Two, If By Comparison</h1>

	<p><em><span class="glyphicon glyphicon-calendar"></span> 14 October 2004</em> ~ <a href='/tags/blog.html'><span class='label label-success'><span class='glyphicon glyphicon-tag'></span> blog</span></a> <a href='/tags/java.html'><span class='label label-success'><span class='glyphicon glyphicon-tag'></span> java</span></a></p>

	<p><p>There are two ways to compare objects, directly if they implement the <code>java.lang.Comparable</code> interface, and<br/>indirectly using an implementation of the <code>java.util.Comparator</code> interface.</p><h2>java.lang.Comparable</h2><p>The <code>Comparable</code> interface defines only a single method signature, the <code>compareTo()</code><br/>method that takes as a parameter the object that the implementing object is being compared to. It returns a negative<br/>integer, zero, or a positive integer when the implementing object is less than, equal to, or greater than the specified<br/>object respectively. The Comparable interface is best used when your object has a logical point of comparison, such as<br/>an order number, date stamp, or unique name and that point of comparison is fixed, meaning that the comparison is always<br/>performed on the same comparison point (e.g. always compared by the date stamp). This also assumes that you are the<br/>developer of the object or that you are able to extend it to allow for a <code>Comparable</code> implementation (if<br/> neither of these is the case, you should use the <code>Comparator</code> interface instead - see below). First you<br/> need a class for your object.</p>
<pre><code class="java">public class Person {
    private String id, firstName, lastName;
    private int age;

    public String getId(){ return(id); }

    public String getFirstName(){ return(firstName); }

    public String getLastName(){ return(lastName); }

    public int getAge(){ return(age); }

    public void setId(String id){ this.id = id; }

    public void setFirstName(String firstName){ this.firstName = firstName; }

    public void setLastName(String lastName){ this.lastName = lastName; }

    public void setAge(int age){ this.age = age; }
}
</code></pre><p>Now, say you have a list of people (Person objects) and that you want to display them ordered by their last names.<br/>You can make the Person class implement Comparable and perform the comparison based on the <code>lastName</code> property.<br/>This comparison is very easy due to the fact that Strings implement Comparable themselves, as do many standard data<br/>object classes (Numbers, Dates, etc.). The comparable Person class is shown below:</p>
<pre><code class="java">public class Person implements Comparable {
    private String id, firstName, lastName;
    private int age;

    // ... getters/setters not shown...

    public int compareTo(Object obj){
        // cast the obj as a Person -- we are only comparing people
        Person pObj = (Person)obj;

    // compare the last names using their compareTo methods
        return( lastName.compareTo(pObj.getLastName()) );
    }
}
</code></pre><p>Then you can run your list of Person objects through a <code>Collections.sort()</code> method and you will have a list<br/>of people ordered by their last names. But what if, when you display your list of people, the user wants the ability to<br/>sort the list by the first name or the age? You could add a new property to your object called <code>compareBy</code> that<br/>takes a parameter used to identify which property of the object will be used in the comparison. Then in your<br/><code>compareTo()</code> method you will need to base your comparison on the property that <code>compareBy</code> is<br/>pointing to. This is not a very clean approach. It would be better to use a <code>java.util.Comparator</code><br/>implementation.</p><h2>java.util.Comparator</h2><p>The Comparator interface defines two method signatures for implementation,<br/><code>compare()</code> that takes as parameters the two objects to be compared and <code>equals()</code> which takes an object<br/>to be compared to the Comparator. The return value of the <code>compare()</code> method is basically the same as that for<br/>the <code>compareTo()</code> method of the Comparable interface. The main difference between the Comparator and a Comparable<br/>object is that Comparators perform the comparison external to the objects being compared and therefore can be reusable<br/>over many different object types. Let's start out with our clean Person class again:</p>
<pre><code class="java">public class Person {
    private String id, firstName, lastName;
    private int age;

    public String getId(){ return(id); }

    public String getFirstName(){ return(firstName); }

    public String getLastName(){ return(lastName); }

    public int getAge(){ return(age); }

    public void setId(String id){ this.id = id; }

    public void setFirstName(String firstName){ this.firstName = firstName; }

    public void setLastName(String lastName){ this.lastName = lastName; }

    public void setAge(int age){ this.age = age; }
}
</code></pre><p>and then define a comparator to do the work of the comparable Person we created (so we don't lose any<br/>functionality).</p>
<pre><code class="java">public class LastNameComparator implements Comparator {
    public boolean equals(Object obj){
        // we&#39;re just going to say that any LastNameComparators are equal
        return(obj instanceof LastNameComparator);
    }

    public int compare(Object obj1, Object obj2){
        // cast both objects are Person
        Person p1 = (Person)obj1;
        Person p2 = (Person)obj2;

        // compare their lastNames
        return( p1.getLastName().compareTo(p2.getLastName()) );
    }
}
</code></pre><p>That's all it takes. You can run your List of Person objects through the version of <code>Collections.sort()</code><br/>that accepts a List and a Comparator to sort your list by last name. You have gained something by doing this; you can<br/>now change the sort criteria on the fly. Let's create a Comparator to compare by age.</p>
<pre><code class="java">public class AgeComparator implements Comparator {
    public boolean equals(Object obj){
        // we&#39;re just going to say that any AgeComparators are equal
        return(obj instanceof AgeComparator);
    }

    public int compare(Object obj1, Object obj2){
        // cast both objects are Person
        Person p1 = (Person)obj1;
        Person p2 = (Person)obj2;

        // compare their ages
        int result = 0; // defaults to equal
        if(p1.getAge() &gt; p2.getAge()){
            result = 1;
        } else if(p1.getAge() &lt; p2.getAge()){
            result = -1;
        }

        return(result);
    }
}
</code></pre><p>Now you can use that instead of the <code>LastNameComparator</code> to order the Person objects by their ages. The<br/>Comparator at first seems like more coding, but if you design your Comparators well, you will be able to reuse them in<br/>the future, especially if you throw in some reflection. The <a href="http://commons.apache.org/collections">Jakarta Commons Collections API</a><br/>has a set of useful Comparators, though I think one of the most useful Comparators is found in the<br/><a href="http://commons.apache.org/beanutils">Jakarta Commons Bean Utils API</a>, called the <code>BeanComparator</code>. The <code>BeanComparator</code><br/>uses reflection compare two objects based on the value of a specified property. Using the <code>BeanComparator</code> to perform<br/>our comparisons would be much simpler:</p>
<pre><code class="java">Collections.sort(people,new BeanComparator(&quot;lastName&quot;));
// - or -
Collections.sort(people,new BeanComparator(&quot;age&quot;));
</code></pre><p>Now how is that for simple and straight forward? So that is a basic introduction to using the Comparable and<br/>Comparator interfaces. In general, it is better to use Comparators so that your comparison is not so tightly tied to<br/>your implementations.</p></p>


            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12">
                    <hr>
                    <div style="text-align:center;">
                        <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a> CoffeaElectronica.com content is copyright &copy; 2016 <a href="http://stehno.com">Christopher J. Stehno</a> and available under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
                    </div>
                </div>
            </div>

        </div>

        <script src="/js/jquery-1.12.4.min.js"></script>
        <script src="/js/bootstrap.min.js"></script>
        <script src="/js/prettify.js"></script>

        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-27165855-1', 'auto');
            ga('send', 'pageview');
        </script>
    </body>
</html>
